XSS：

非持久型：

先写写我理解的，页面的链接通常“？”后面是会带一些参数的，这些参数通常很多时候会影响页面展示内容，如果一旦这些参数直接输出在页面上的时候，黑客就能通过更改这些参数，在页面上面输出一段JS，连JS都能输出了，那么黑客想要干什么都可以，这种直接更改链接，让20用户主动点击的攻击叫做“非持久型XSS攻击”。

那有非持久型的，就有持久型的XSS攻击。

持久型的攻击：

从结果上面来看，黑客获取到了某个用户的登录态，如果数据库不做修改的话，黑客可以一直保持此用户的登录态，然后就可以在这个账户为所欲为了，这个就是持久型的来由。

怎么做呢，黑客先以正常的用户登入，然后，在修改信息的输入框输入注入的脚本，提交后，数据库就把脚本保存下来了，那么当管理员打开用户列表，会在页面输出所有的信息，这是脚本也被输出，并生效，当管理员点击脚本的按钮诱饵时，就会往黑客的服务器发送当前用户的cookie,从而获取到session id，然后获取到登录态。这种攻击只要不修改数据库，就一直生效的，

CSRF：

CSRF攻击呢，在网络上比较少，防范也比较难。工作原理是这样的，如果A网站通过链接拼接参数就可以完成一些，取款啊，买东西，提交资料啊什么的操作，而A网站又会保存一小段时间的登录态。那么就可以在外面的网站（论坛什么的），散布一些关于A网站的伪装链接（色色的图片），当A网站用户点击那个链接之后，就会自动发请求到A网站上面去，而这个用户的登录态刚好还保存在登录态里面，那么就会自动完成，黑客想要你完成的操作了！

[http://wetest.qq.com/lab/view/136.html](http://wetest.qq.com/lab/view/136.html)
